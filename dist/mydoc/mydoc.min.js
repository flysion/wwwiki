(()=>{"use strict";var e={187:e=>{var t,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function o(){o.init.call(this)}e.exports=o,e.exports.once=function(e,t){return new Promise((function(n,r){function i(){void 0!==o&&e.removeListener("error",o),n([].slice.call(arguments))}var o;"error"!==t&&(o=function(n){e.removeListener(t,i),r(n)},e.once("error",o)),e.once(t,i)}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function a(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function u(e,t,n,r){var i,o,s,u;if(a(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),s=o[t]),void 0===s)s=o[t]=n,++e._eventsCount;else if("function"==typeof s?s=o[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(i=l(e))>0&&s.length>i&&!s.warned){s.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=s.length,u=c,console&&console.warn&&console.warn(u)}return e}function c(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=c.bind(r);return i.listener=n,r.wrapFn=i,i}function f(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):p(i,i.length)}function d(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return l(this)},o.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var l=o[e];if(void 0===l)return!1;if("function"==typeof l)r(l,this,t);else{var u=l.length,c=p(l,u);for(n=0;n<u;++n)r(c[n],this,t)}return!0},o.prototype.addListener=function(e,t){return u(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return u(this,e,t,!0)},o.prototype.once=function(e,t){return a(t),this.on(e,h(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,h(this,e,t)),this},o.prototype.removeListener=function(e,t){var n,r,i,o,s;if(a(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},o.prototype.listeners=function(e){return f(this,e,!0)},o.prototype.rawListeners=function(e){return f(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):d.call(e,t)},o.prototype.listenerCount=d,o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}}},t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{let e={}.toString;const t=Array.isArray||function(t){return"[object Array]"==e.call(t)},r=function(e){return null!=e&&"object"==typeof e&&!1===t(e)},i={cb:(e,t,n)=>t(e,n),attr:(e,t,n)=>e.attr(t),data:(e,t,n)=>e.data(t),css:(e,t,n)=>e.css(t),text:(e,t,n)=>e.text(t),html:(e,t,n)=>e.html(o(t)),class:(e,n,i)=>{if(t(n))for(let t=0;t<n.length;t++)e.addClass(n[t]);else if(r(n))for(let t in n)e.addClass(t);else e.addClass(n)},on:(e,n,i)=>{if(t(n))for(let t=0;t<n.length;t++)e.on(n[t].name,n[t].el,n[t].data,(r=>{n[t].fn(r,e,i)}));else if(r(n))for(let t in n)"function"!=typeof n[t]?e.on(t,n[t].el,n[t].data,(r=>{n[t].fn(r,e,i)})):e.on(t,void 0,void 0,(r=>{n[t](r,e,i)}));else e.on(n.name,n.el,n.data,(t=>{n.fn(t,e,i)}))},children:(e,t,n)=>{if(r(t))for(let n in t)e.append(o(t[n]));else e.append(o(t))}},o=function(e){if(t(e)){let t=[];for(let n=0;n<e.length;n++)t.push(o(e[n]));return t}if("string"==typeof e)return $(e);if(e instanceof $)return e;if(null===e)return;let n=$(/^[a-zA-Z0-9]+$/.test(e.tag)?document.createElement(e.tag):e.tag);for(let t in e)"tag"!==t&&(i[t]?i[t](n,e[t],e):n.attr(t,e[t]));return n},s=o;function a(e,t,n,r={}){return function(e,t,n={}){return $.ajax($.extend({url:"/?type="+e,method:"POST",dataType:"json",data:JSON.stringify(t),headers:{Accept:"application/json","Content-Type":"application/json"}},n))}("list",{path:e,depth:t,onlyDir:n},r)}class l{constructor(e){this.info=e}isFile(){return this.info.is_file}isDirectory(){return!this.isFile()}isRoot(){return"/"===this.info.path}extname(){return this.info.extname}ext(){return this.info.extname.substr(1).toLowerCase()}basename(){return this.info.basename}dirname(){return this.info.dirname}segments(){let e=this.toString(),t=[];for(let n=0;n<e.length;n++)"/"!==e[n]&&n!==e.length-1||t.push(l.createFromString(e.substr(0,n+1)));return t}join(e){return this.isFile()?l.createFromString(`${this.dirname()}${e}`):l.createFromString(`${this.toString()}${e}`)}toString(){return this.info.path}}l.createFromString=e=>{let t={path:e};return t.is_file="/"!==e.substr(-1),t.extname=t.is_file?e.substr(e.lastIndexOf(".")):null,e=t.is_file?e:e.substr(0,e.length-1),t.basename=e.substr(e.lastIndexOf("/")+1),t.dirname=e.substr(0,e.lastIndexOf("/")+1),new l(t)};var u=n(187),c=n.n(u);window.MyDoc=function(e){e=$.extend({el:"body",indexFile:"README.md",plugins:[],linkUrl:e=>e,title:document.title},e);const t=s('<ul class="mydoc-navbar"></ul>'),n=s('<ul class="mydoc-path"></ul>'),r=s('<ul class="mydoc-list"></ul>'),i=s('<div class="mydoc-content"></div>'),o=s({tag:'<div class="mydoc-main"></div>',children:[t,{tag:'<div class="mydoc-container"></div>',children:[n,r,i]}]}),u=new(c()),h=function(){let t=new marked.Renderer;return t.link=function(t,n,r){if(t=e.linkUrl(t),/^\w+:\/\//.test(t))return`<a href="${t}" target="_blank" title="${n||""}">${r}</a>`;do{let e=t.match(/^(.*?(?:\.md|\/))(?:#(.+))*$/);if(!e)break;t=e[2]?`#${e[1]}?id=${e[2]}`:"#"+e[1]}while(0);return`<a href="${t}" title="${n||""}">${r}</a>`},e=>{const n=(new marked.Lexer).lex(e);return marked.parser(n,{renderer:t,headerIds:!0,headerPrefix:"",langPrefix:"language-",highlight:function(e){return hljs.highlightAuto(e).value}})}}(),f=(e,t,n=null)=>{null!==n?(i.html(h(n)),u.emit("uiRenderContentCompleted",e,t)):function(e,t){return $.ajax($.extend({url:e,method:"GET",headers:{Accept:"text/plain"}},void 0))}(t).done((n=>{f(e,t,n)})).fail((()=>{f(e,t,"")}))},d=e=>{let t=e.match(/^(\/.*?)(?:\?.+)*$/);if(null===t)return;let n=l.createFromString(t[1]);if(!n.isFile()||"md"===n.ext())return u.emit("pathchange",n),n;window.location.href=t[1]},p=()=>{""!==window.location.hash?d(decodeURI(window.location.hash.substr(1))):d("/")};u.on("initCompleted",(()=>{(()=>{t.empty().append('<li><a href="#/"><span class="fa fa-home"></span></a></li>').show();const e=function(t,n){n.forEach((n=>{let r=l.createFromString(n.path),i=s({tag:"li",children:[{tag:"a",attr:{href:"#"+r.toString()},text:r.basename()}]}).appendTo(t);if(n.children.length>0){let t=s({tag:"ul"}).appendTo(i);e(t,n.children)}}))};a("/",2,!0).done((n=>{e(t,n)}))})()})),u.on("initCompleted",(()=>{p()})),u.on("pathchange",(t=>{document.title=`${e.title} - ${t.toString()}`})),u.on("pathchange",(e=>{e.isFile()&&r.hide()})),u.on("pathchange",(e=>{e.isDirectory()&&function(e){a(e.toString(),1,!1).done((e=>{r.empty(),e.forEach((e=>{let t=l.createFromString(e.path),n={tag:"li",class:[],children:{icon:{tag:"span",class:["icon"]},label:{tag:"a",text:t.basename(),class:["label"],attr:{}}}};t.isDirectory()?(n.class.push("folder"),n.children.label.attr.href="#"+t.toString()):"md"===t.ext()?(n.class.push("file","file-"+t.ext()),n.children.label.attr.href="#"+t.toString()):(n.class.push("file","file-"+t.ext()),n.children.label.attr.href=t.toString(),n.children.label.attr.target="_blank"),r.append(s(n))})),r.show()}))}(e)})),u.on("pathchange",(t=>{f(t,t.isFile()?t.toString():t.join(e.indexFile).toString())})),u.on("pathchange",(e=>{(e=>{let t=e.segments();n.children(`li.segment:gt(${t.length-1})`).remove(),t.forEach(((e,t)=>{let r=n.children(`li.segment:eq(${t})`);if(r.data("path")===e.toString())return;let i={tag:"li",class:["segment",e.isDirectory()?"folder":"file"],data:{path:e.toString()},children:[{tag:"a",text:0===t?"":e.basename(),html:0===t?{tag:"span",class:["fa","fa-home"]}:null,class:0===t?["label","root"]:["label"],attr:{href:"#"+e.toString()}}]};e.isDirectory()&&i.children.push({tag:"span",data:{pathObj:e},html:{tag:"span",class:["fa","fa-angle-right"]}}),r.length>0?r.replaceWith(s(i)):n.append(s(i))}))})(e)})),$(window).on("hashchange",(()=>{p()})),n.on("mouseleave","li.segment",(function(){$(this).children("ul").hide()})),n.on("click","li.segment>span",(function(){let e=$(this),t=e.siblings("ul");t.length>0?t.toggle():(t=s({tag:"ul",class:["active"]}),e.after(t),a(e.data("pathObj").toString(),1,!0).done((e=>{0!==e.length&&e.forEach((e=>{let n=l.createFromString(e.path);t.append(s({tag:"li",html:{tag:"a",text:n.basename(),attr:{href:"#"+n.toString()}}}))}))})))})),e.plugins.forEach((e=>{e(u,o)})),o.appendTo(e.el),u.emit("initCompleted")}})()})();